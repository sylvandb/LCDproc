# This is the list file neccessary for generating packages with EPM
# EPM is available from http://www.easysw.com/epm
# Up to now this file is only tested for generating RPM on Mdk 8.1

# Copyright (C) 2001  Rene Wagner <reenoo@gmx.de>
# First autoconf ready version by Guillaume Filion <gfk@logidac.com>

# This file is free software; you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation; either version 2 of the License, or
# any later version.

# This file is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.

# You should have received a copy of the GNU General Public License
# along with this file; if not, write to the Free Software
# Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307

$prefix=@prefix@
$exec_prefix=@exec_prefix@
$bin=@bindir@
$sbin=@sbindir@
$etc=@sysconfdir@
$man=@mandir@
$srcdir=@srcdir@
$version=@VERSION@
$doc=${prefix}/doc

%product LCDproc
%copyright (C) 1999-2001 William Ferrell, Scott Scriven and several
other contributors see README and CREDITS for details
%vendor EPM list file generated by Rene Wagner
%license ${srcdir}/COPYING
%readme ${srcdir}/README
%description LCDproc mainly consists of the server (LCDd(8)) which makes it
%description possible to display text and other data on an LCD display
%description and a small program (lcdproc(1)) that extracts various statistics
%description about your machine and sends them to the server. It works with
%description several types and sizes of displays.
%description Of course there are other clients.
%description See http://lcdproc.omnipotent.net.
%version ${version}

%preinstall <<EOF
echo
echo
echo "    ATTENTION: This is a DEVELOPMENT VERSION of LCDproc!"
echo "    IT IS NEITHER GUARANTEED TO RUN NOR TO BE USEFUL FOR ANY PURPOSE!"
echo
echo
EOF
%postinstall <<EOF
echo
echo "Enjoy LCDproc - in case it runs ;)"
echo
EOF

# init scripts and system specific stuff

# debian
%format dpkg
f 750 root root /etc/init.d/lcdd ${srcdir}/scripts/init-LCDd.debian
f 750 root root /etc/init.d/lcdproc ${srcdir}/scripts/init-lcdproc.debian

# RPM based distributions
%format rpm
$etc=/etc
f 750 root root /etc/rc.d/init.d/lcdd ${srcdir}/scripts/init-LCDd.rpm
f 750 root root /etc/rc.d/init.d/lcdproc ${srcdir}/scripts/init-lcdproc.rpm

# Sorry, no scripts for other systems :(
# TODO: Add init scripts for more systems here



%format all

# documentation files
d 755 root root ${doc}/lcdproc -
f 644 root root ${doc}/lcdproc ${srcdir}/docs/*

# man pages
f 644 root root ${man}/man1/lcdproc.1 ${srcdir}/docs/lcdproc.1
f 644 root root ${man}/man8/LCDd.8 ${srcdir}/docs/LCDd.8

# configuration file
f 640 root root ${etc}/LCDd.conf ${srcdir}/LCDd.conf

# server binary
f 750 root root ${sbin}/LCDd ${srcdir}/server/LCDd

# main client
f 755 root root ${bin}/lcdproc ${srcdir}/clients/lcdproc/lcdproc

# other clients
f 755 root root ${bin}/lcdfortune ${srcdir}/clients/examples/fortune.pl
f 755 root root ${bin}/lcdiosock ${srcdir}/clients/examples/iosock.pl
f 755 root root ${bin}/lcdheadlines ${srcdir}/clients/headlines/lcdheadlines
f 755 root root ${bin}/lcdtail ${srcdir}/clients/examples/tail.pl
f 755 root root ${bin}/lcdx11amp ${srcdir}/clients/examples/x11amp.pl
